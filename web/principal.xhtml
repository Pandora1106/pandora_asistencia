<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Pandora®</title>
            </f:facet>
        </h:head>
        <h:body>            
            <p:layout fullPage="true">
                <p:layoutUnit position="north" size="145" resizable="true" closable="true" collapsible="true">
                    <h:form>
                        <h2><h:outputText value="#{empleadoMb.nombreCompleto}"/></h2>
                        <h:commandLink value="Salir" action="#{empleadoMb.doSalir}"/>
                        <p:commandButton style="float: right;" value="Horarios" icon="ui-icon-check" action="horarioEmpleado" />
                    </h:form>
                </p:layoutUnit>
                <p:layoutUnit position="south" size="130" closable="true" collapsible="true">
                    <h1>Pandora®</h1>
                </p:layoutUnit>
                <p:layoutUnit position="center">
                    <h3 align="center">Búsqueda de Empleados</h3>
                    <h:form>
                        <p:commandButton style="float: right;" value="Modificar" icon="ui-icon-check" action="modificarEmpleado" />
                        <p:commandButton style="float: right;" value="Registrar" icon="ui-icon-check" action="registrarEmpleado" />
                    </h:form>
                    <br/>
                    <br/>
                    <h4>Criterios de Búsqueda:</h4>
                    <h:form id="form">
                        <p:outputPanel id="customPanel" style="margin-bottom:10px">
                            <p:selectOneRadio value="#{empleadoMb.radioValue}" id="customRadio" layout="custom"  required="true" >
                                <f:selectItem itemLabel="Número de Documento" itemValue="0" />
                                <f:selectItem itemLabel="Nombre(s)" itemValue="1" />
                                <f:selectItem itemLabel="Estado" itemValue="2" />
                                <p:ajax listener="#{empleadoMb.radioValueChanged()}" update="selectMenu" />
                            </p:selectOneRadio>
                            <h:panelGrid columns="3" cellpadding="5">
                                <p:radioButton id="txtNroDocumento" for="customRadio" itemIndex="0" />
                                <h:outputLabel for="txtNroDocumento" value="Número de Documento" />
                                <p:inputText />
                                <p:radioButton id="txtNombre" for="customRadio" itemIndex="1" />
                                <h:outputLabel for="txtNombre" value="Nombre(s)" />
                                <p:inputText />
                                <p:radioButton id="txtEstado" for="customRadio" itemIndex="2" />
                                <h:outputLabel for="txtEstado" value="Estado" />
                                <h:selectOneMenu id="selectMenu" >
                                    <f:selectItem itemLabel="Seleccionar" itemValue="-1"/>
                                    <f:selectItems value="#{empleadoMb.listaEstado}" var="st" itemValue="#{st.idParametro}" itemLabel="#{st.dato}"/>
                                </h:selectOneMenu>
                            </h:panelGrid>
                        </p:outputPanel>
                        <p:commandButton value="Buscar" icon="ui-icon-search" action="#{empleadoMb.getListaEmpleados}" update="table-wrapper"/>
                        <p:commandButton value="Limpiar" icon="ui-icon-trash" />
                        <br/>
                        <br/>
                        <h:panelGroup id="table-wrapper">
                            <p:growl id="msgs" showDetail="true" />
                            <p:dataTable id="tabla" var="emp" value="#{empleadoMb.listaEmpleados}" rows="15" rowsPerPageTemplate="20,25" 
                                         selectionMode="single" selection="#{empleadoMb.empleado}" rowKey="#{emp.nroDocumento}" paginator="true" 
                                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" >
                                <p:ajax event="rowSelect" listener="#{empleadoMb.onRowSelect}" />
                                <f:facet name="header">
                                    Seleccionar Empleado
                                </f:facet>
                                <p:column headerText="N° Documento">
                                    <h:outputText value="#{emp.nroDocumento}" />
                                </p:column>
                                <p:column headerText="Tipo Documento">
                                    <h:outputText value="#{emp.tipoDocumento}" />
                                </p:column>
                                <p:column headerText="Nombre(s)">
                                    <h:outputText value="#{emp.nombres}" />
                                </p:column>
                                <p:column headerText="Apellido Paterno">
                                    <h:outputText value="#{emp.apePaterno}" />
                                </p:column>
                                <p:column headerText="Apellido Materno">
                                    <h:outputText value="#{emp.apeMaterno}" />
                                </p:column>
                                <p:column headerText="Estado">
                                    <h:outputText value="#{emp.estado}" />
                                </p:column>
                                <f:facet name="footer">
                                    <p:commandButton icon="ui-icon-search" value="Ver" action="datosEmpleado">
                                        <f:param name="id" value="#{emp.nroDocumento}" />
                                    </p:commandButton>
                                </f:facet>
                            </p:dataTable>
                        </h:panelGroup>
                    </h:form>
                </p:layoutUnit>
            </p:layout>
        </h:body>
    </f:view>
</html>